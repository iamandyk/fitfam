datasource db {
  provider = "mysql"
  url = "***"
}

generator photon {
  provider      = "photonjs"
  binaryTargets = ["rhel-openssl-1.0.x", "native"]
}

model User {
  id            String        @default(cuid()) @id
  email         String        @unique
  name          String
  username      String        @unique
  picture       String
  bio           String?
  workouts      Workout[]
  bodyweights   Bodyweight[]
  profile_songs ProfileSong[]
  instagram     String?
  dateOfBirth   DateTime
  height        String?
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
}

model Workout {
  id        String       @default(cuid()) @id
  title     String
  slug      String
  user      User
  logs      WorkoutLog[]
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt
}

model WorkoutLog {
  id        String   @default(cuid()) @id
  user      User
  exercise  Exercise
  workout   Workout
  reps      Int
  weight    Float
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Exercise {
  id        String   @default(cuid()) @id
  name      String   @unique
  slug      String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Bodyweight {
  id        String   @default(cuid()) @id
  weight    Float
  user      User
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ProfileSong {
  id        String   @default(cuid()) @id
  user      User
  thumbnail String
  url       String
  title     String
  artist    String
  provider  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Supplement {
  id        String   @default(cuid()) @id
  name      String
  url       String
  image_url String
  brand     String
  added_by  User
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SupplementStack {
  id          String       @default(cuid()) @id
  user        User
  supplements Supplement[]
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
}